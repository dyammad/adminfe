<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão da Igreja</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth-styles.css">
    <link rel="stylesheet" href="bible-styles.css">
    <link rel="stylesheet" href="devotional-styles.css">
    <link rel="stylesheet" href="branch-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="branches-data.js"></script>
    <script src="branch-isolation.js"></script>
    <script src="sample-data.js"></script>
    <script src="auth-system.js"></script>
    <script src="branch-auth.js"></script>
    <script src="user-management.js"></script>
    <script src="bible-data.js"></script>
    <script src="bible-api-service.js"></script>
    <script src="bible.js"></script>
    <script src="devotional-data.js"></script>
    <script src="reading-plan.js"></script>
    <script src="devotional.js"></script>
    <script src="branch-ui.js"></script>
    <script src="branch-management.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-box">
            <div class="login-header">
                <i class="fas fa-church"></i>
                <h2>Sistema de Gestão da Igreja</h2>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginBranch">
                        <i class="fas fa-building"></i> Filial
                    </label>
                    <select id="loginBranch" required>
                        <option value="">Selecione sua filial...</option>
                    </select>
                    <small class="form-hint">Escolha a filial que você deseja acessar</small>
                </div>
                <div class="form-group">
                    <label for="username">Usuário</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="login-btn">Entrar</button>
            </form>
            <div class="login-footer">
                <p>Primeira vez aqui?</p>
                <button type="button" class="register-link" onclick="showRegisterForm()">
                    <i class="fas fa-user-plus"></i> Cadastre-se como Visitante
                </button>
            </div>
        </div>
    </div>

    <!-- Register Screen -->
    <div id="registerScreen" class="login-container" style="display: none;">
        <div class="login-box register-box">
            <div class="login-header">
                <i class="fas fa-church"></i>
                <h2>Cadastro de Visitante</h2>
                <p>Registre-se para acompanhar as atividades da igreja</p>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerBranch">
                        <i class="fas fa-building"></i> Filial *
                    </label>
                    <select id="registerBranch" required>
                        <option value="">Selecione sua filial...</option>
                    </select>
                    <small class="form-hint">Escolha a filial que você deseja se cadastrar</small>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="registerName">Nome Completo *</label>
                        <input type="text" id="registerName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email *</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="registerPhone">Telefone</label>
                        <input type="tel" id="registerPhone">
                    </div>
                    <div class="form-group">
                        <label for="registerBirthdate">Data de Nascimento</label>
                        <input type="date" id="registerBirthdate">
                    </div>
                </div>
                <div class="form-group">
                    <label for="registerUsername">Nome de Usuário *</label>
                    <input type="text" id="registerUsername" required>
                    <small>Será usado para fazer login no sistema</small>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="registerPassword">Senha *</label>
                        <input type="password" id="registerPassword" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="registerPasswordConfirm">Confirmar Senha *</label>
                        <input type="password" id="registerPasswordConfirm" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="registerHowFound">Como conheceu nossa igreja?</label>
                    <select id="registerHowFound">
                        <option value="">Selecione uma opção</option>
                        <option value="amigo">Indicação de amigo/familiar</option>
                        <option value="internet">Pesquisa na internet</option>
                        <option value="redes_sociais">Redes sociais</option>
                        <option value="passando">Passando pela rua</option>
                        <option value="evento">Evento da igreja</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="registerTerms" required>
                        Aceito os termos de uso e política de privacidade
                    </label>
                </div>
                <div class="register-buttons">
                    <button type="button" class="btn-secondary" onclick="showLoginForm()">
                        <i class="fas fa-arrow-left"></i> Voltar ao Login
                    </button>
                    <button type="submit" class="login-btn">
                        <i class="fas fa-user-plus"></i> Cadastrar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="main-app" style="display: none;">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle Menu">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-church"></i>
                <h3>Igreja</h3>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" data-section="dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li class="menu-section">
                    <span>Membros</span>
                    <ul>
                        <li><a href="#" data-section="members-active"><i class="fas fa-users"></i> Ativos</a></li>
                        <li><a href="#" data-section="members-inactive"><i class="fas fa-user-slash"></i> Inativos</a></li>
                        <li><a href="#" data-section="members-visitors"><i class="fas fa-user-plus"></i> Visitantes</a></li>
                    </ul>
                </li>
                <li><a href="#" data-section="ministries"><i class="fas fa-hands-praying"></i> Ministérios</a></li>
                <li><a href="#" data-section="devotional"><i class="fas fa-book-open"></i> Devocional</a></li>
                <li><a href="#" data-section="leaders"><i class="fas fa-crown"></i> Líderes</a></li>
                <li><a href="#" data-section="cells"><i class="fas fa-home"></i> Células</a></li>
                <li><a href="#" data-section="events"><i class="fas fa-calendar"></i> Eventos</a></li>
                <li><a href="#" data-section="pastor-agenda"><i class="fas fa-calendar-check"></i> Agenda Pastor</a></li>
                <li><a href="#" data-section="treasury"><i class="fas fa-coins"></i> Tesouraria</a></li>
                <li><a href="#" data-section="prayer-requests"><i class="fas fa-praying-hands"></i> Pedidos de Oração</a></li>
                <li><a href="#" data-section="baptisms"><i class="fas fa-water"></i> Batismos</a></li>
                <li><a href="#" data-section="donations"><i class="fas fa-heart"></i> Doações</a></li>
                <li><a href="#" data-section="bible"><i class="fas fa-book-bible"></i> Bíblia Sagrada</a></li>
                <li><a href="#" data-section="branches-management"><i class="fas fa-building"></i> Filiais</a></li>
            </ul>
            <div class="sidebar-footer">
                <button id="logoutBtn" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Sair</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <h1 id="pageTitle">Dashboard</h1>
                <div class="user-info">
                    <span id="currentUser">Admin</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </header>

            <div class="content-area">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-users"></i></div>
                            <div class="stat-info">
                                <h3 id="totalMembers">0</h3>
                                <p>Total de Membros</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-user-check"></i></div>
                            <div class="stat-info">
                                <h3 id="activeMembers">0</h3>
                                <p>Membros Ativos</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-home"></i></div>
                            <div class="stat-info">
                                <h3 id="totalCells">0</h3>
                                <p>Células</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-coins"></i></div>
                            <div class="stat-info">
                                <h3 id="monthlyOffering">R$ 0</h3>
                                <p>Ofertas do Mês</p>
                            </div>
                        </div>
                    </div>

                    <!-- Alerta de Cadastros Pendentes -->
                    <div id="pendingRegistrationsAlert" class="alert-container" style="display: none;">
                        <div class="alert alert-warning">
                            <div class="alert-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="alert-content">
                                <h4>Novos Cadastros Aguardando Aprovação</h4>
                                <p id="pendingRegistrationsMessage">Existem visitantes que se cadastraram e aguardam aprovação.</p>
                                <button class="btn btn-warning" onclick="navigateToSection('user-management')">
                                    <i class="fas fa-users-cog"></i> Gerenciar Usuários
                                </button>
                            </div>
                            <button class="alert-close" onclick="dismissPendingAlert()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="charts-grid">
                        <div class="chart-container">
                            <h3>Crescimento de Membros</h3>
                            <canvas id="membersChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Ofertas por Mês</h3>
                            <canvas id="offeringsChart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Members Sections -->
                <section id="members-active" class="content-section">
                    <div class="section-header">
                        <h2>Membros Ativos</h2>
                        <button class="btn btn-primary" onclick="openMemberModal()">
                            <i class="fas fa-plus"></i> Adicionar Membro
                        </button>
                    </div>
                    <div class="search-filters">
                        <div class="search-group">
                            <input type="text" id="searchActiveMembers" placeholder="Buscar por nome, email ou telefone..." onkeyup="searchMembers('active')">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-group">
                            <select id="filterActiveMembersByCell" onchange="filterMembersByCell('active')">
                                <option value="">Todas as células</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="activeMembersTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Data de Nascimento</th>
                                    <th>Célula</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <section id="members-inactive" class="content-section">
                    <div class="section-header">
                        <h2>Membros Inativos</h2>
                    </div>
                    <div class="search-filters">
                        <div class="search-group">
                            <input type="text" id="searchInactiveMembers" placeholder="Buscar por nome, email ou telefone..." onkeyup="searchMembers('inactive')">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-group">
                            <select id="filterInactiveMembersByReason" onchange="filterMembersByReason('inactive')">
                                <option value="">Todos os motivos</option>
                                <option value="mudança">Mudança</option>
                                <option value="transferência">Transferência</option>
                                <option value="disciplina">Disciplina</option>
                                <option value="falecimento">Falecimento</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="inactiveMembersTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Data de Inativação</th>
                                    <th>Motivo</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <section id="members-visitors" class="content-section">
                    <div class="section-header">
                        <h2>Visitantes</h2>
                        <button class="btn btn-primary" onclick="openVisitorModal()">
                            <i class="fas fa-plus"></i> Adicionar Visitante
                        </button>
                    </div>
                    <div class="search-filters">
                        <div class="search-group">
                            <input type="text" id="searchVisitors" placeholder="Buscar por nome, email ou telefone..." onkeyup="searchMembers('visitors')">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-group">
                            <select id="filterVisitorsBySource" onchange="filterVisitorsBySource()">
                                <option value="">Como conheceu</option>
                                <option value="amigo">Indicação de amigo</option>
                                <option value="internet">Internet</option>
                                <option value="redes_sociais">Redes sociais</option>
                                <option value="passando">Passando pela rua</option>
                                <option value="evento">Evento da igreja</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="visitorsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Data da Visita</th>
                                    <th>Como Conheceu</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Other sections will be loaded dynamically -->
                <section id="ministries" class="content-section">
                    <div class="section-header">
                        <h2>Ministérios</h2>
                        <button class="btn btn-primary" onclick="openMinistryModal()">
                            <i class="fas fa-plus"></i> Adicionar Ministério
                        </button>
                    </div>
                    <div class="ministries-grid" id="ministriesGrid"></div>
                </section>

                <!-- Devotional Section -->
                <section id="devotional" class="content-section">
                    <div class="devotional-container">
                        <!-- Missions/Challenges Section -->
                        <div class="missions-section">
                            <h3><i class="fas fa-trophy"></i> Missões e Desafios</h3>
                            <div class="missions-grid">
                                <div class="mission-card" id="mission365">
                                    <div class="mission-icon">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <div class="mission-content">
                                        <h4>Devocional 365 Dias</h4>
                                        <p>Leia o devocional todos os dias por 1 ano</p>
                                        <div class="mission-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" id="progress365" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text" id="progressText365">0/365 dias</span>
                                        </div>
                                    </div>
                                    <div class="mission-badge" id="badge365">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                </div>

                                <div class="mission-card" id="mission30">
                                    <div class="mission-icon">
                                        <i class="fas fa-fire"></i>
                                    </div>
                                    <div class="mission-content">
                                        <h4>Sequência de 30 Dias</h4>
                                        <p>Leia por 30 dias consecutivos</p>
                                        <div class="mission-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" id="progress30" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text" id="progressText30">0/30 dias</span>
                                        </div>
                                    </div>
                                    <div class="mission-badge" id="badge30">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                </div>

                                <div class="mission-card" id="mission7">
                                    <div class="mission-icon">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <div class="mission-content">
                                        <h4>Semana Devocional</h4>
                                        <p>Leia por 7 dias seguidos</p>
                                        <div class="mission-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" id="progress7" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text" id="progressText7">0/7 dias</span>
                                        </div>
                                    </div>
                                    <div class="mission-badge" id="badge7">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                </div>

                                <div class="mission-card" id="missionShare">
                                    <div class="mission-icon">
                                        <i class="fas fa-share-alt"></i>
                                    </div>
                                    <div class="mission-content">
                                        <h4>Compartilhador</h4>
                                        <p>Compartilhe 10 devocionais</p>
                                        <div class="mission-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" id="progressShare" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text" id="progressTextShare">0/10 compartilhamentos</span>
                                        </div>
                                    </div>
                                    <div class="mission-badge" id="badgeShare">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                </div>

                                <div class="mission-card" id="missionSave">
                                    <div class="mission-icon">
                                        <i class="fas fa-bookmark"></i>
                                    </div>
                                    <div class="mission-content">
                                        <h4>Colecionador</h4>
                                        <p>Salve 20 devocionais favoritos</p>
                                        <div class="mission-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" id="progressSave" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text" id="progressTextSave">0/20 salvos</span>
                                        </div>
                                    </div>
                                    <div class="mission-badge" id="badgeSave">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Devotional Header -->
                        <div class="devotional-header">
                            <div class="devotional-title">
                                <i class="fas fa-book-open"></i>
                                <div>
                                    <h2>Devocional Diário</h2>
                                    <p>Alimente sua alma com a Palavra de Deus</p>
                                </div>
                            </div>
                            <div class="devotional-date">
                                <i class="fas fa-calendar-day"></i>
                                <span id="devotionalDate"></span>
                            </div>
                        </div>

                        <!-- Today's Devotional -->
                        <div class="today-devotional">
                            <div class="devotional-card main-devotional">
                                <div class="devotional-badge">
                                    <i class="fas fa-star"></i>
                                    <span>Devocional de Hoje</span>
                                </div>
                                
                                <h3 class="devotional-theme" id="todayTheme">Carregando...</h3>
                                
                                <div class="devotional-verse">
                                    <i class="fas fa-quote-left"></i>
                                    <p id="todayVerse">Carregando versículo...</p>
                                    <span class="verse-reference" id="todayReference"></span>
                                </div>

                                <div class="devotional-reflection">
                                    <h4><i class="fas fa-lightbulb"></i> Reflexão</h4>
                                    <p id="todayReflection">Carregando reflexão...</p>
                                </div>

                                <div class="devotional-prayer">
                                    <h4><i class="fas fa-praying-hands"></i> Oração</h4>
                                    <p id="todayPrayer">Carregando oração...</p>
                                </div>

                                <div class="devotional-actions">
                                    <button class="btn btn-primary" onclick="shareDevotional()">
                                        <i class="fas fa-share-alt"></i> Compartilhar
                                    </button>
                                    <button class="btn btn-secondary" onclick="saveDevotional()">
                                        <i class="fas fa-bookmark"></i> Salvar
                                    </button>
                                    <button class="btn btn-secondary" onclick="printDevotional()">
                                        <i class="fas fa-print"></i> Imprimir
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Devotional Calendar -->
                        <div class="devotional-sections">
                            <div class="devotional-calendar-section">
                                <h3><i class="fas fa-calendar-alt"></i> Devocionais Anteriores</h3>
                                <div class="calendar-grid" id="devotionalCalendar">
                                    <!-- Calendar will be populated here -->
                                </div>
                            </div>

                            <!-- Saved Devotionals -->
                            <div class="saved-devotionals-section">
                                <h3><i class="fas fa-bookmark"></i> Salvos</h3>
                                <div class="saved-list" id="savedDevotionals">
                                    <div class="empty-state">
                                        <i class="fas fa-bookmark"></i>
                                        <p>Nenhum devocional salvo</p>
                                        <small>Clique em "Salvar" para guardar seus favoritos</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Language Selection -->
                        <div class="devotional-language-section">
                            <h3><i class="fas fa-language"></i> Idioma do Devocional</h3>
                            <div class="language-selector">
                                <button class="language-option active" data-lang="pt" onclick="switchDevotionalLanguage('pt')">
                                    <i class="fas fa-flag"></i>
                                    <div>
                                        <strong>Português</strong>
                                        <span>Devocionais em português</span>
                                    </div>
                                </button>
                                <button class="language-option" data-lang="en" onclick="switchDevotionalLanguage('en')">
                                    <i class="fas fa-flag-usa"></i>
                                    <div>
                                        <strong>English</strong>
                                        <span>Devotionals in English</span>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <!-- Reading Plan -->
                        <div class="reading-plan-section">
                            <h3><i class="fas fa-book-reader"></i> Plano de Leitura</h3>
                            <div class="reading-plan-card">
                                <div class="plan-header">
                                    <h4>Leia a Bíblia em 1 Ano</h4>
                                    <span class="plan-progress" id="planProgressText">0% completo</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="planProgressBar" style="width: 0%"></div>
                                </div>
                                <div class="plan-today">
                                    <p><strong>Leitura de Hoje:</strong></p>
                                    <ul id="todayReadingList">
                                        <li>Carregando...</li>
                                    </ul>
                                </div>
                                <button class="btn btn-primary" onclick="openReadingPlan()">
                                    <i class="fas fa-book"></i> Ver Plano Completo
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Leaders Section -->
                <section id="leaders" class="content-section">
                    <div class="section-header">
                        <h2>Líderes</h2>
                        <button class="btn btn-primary" onclick="openLeaderModal()">
                            <i class="fas fa-plus"></i> Adicionar Líder
                        </button>
                    </div>
                    <div class="leaders-grid" id="leadersGrid"></div>
                </section>

                <!-- Cells Section -->
                <section id="cells" class="content-section">
                    <div class="section-header">
                        <h2>Células</h2>
                        <button class="btn btn-primary" onclick="openCellModal()">
                            <i class="fas fa-plus"></i> Adicionar Célula
                        </button>
                    </div>
                    <div class="table-container">
                        <table id="cellsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Líder</th>
                                    <th>Endereço</th>
                                    <th>Dia da Semana</th>
                                    <th>Horário</th>
                                    <th>Membros</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Events Section -->
                <section id="events" class="content-section">
                    <div class="section-header">
                        <h2>Eventos</h2>
                        <button class="btn btn-primary" onclick="openEventModal()">
                            <i class="fas fa-plus"></i> Adicionar Evento
                        </button>
                    </div>
                    <div class="events-grid" id="eventsGrid"></div>
                </section>

                <!-- Pastor's Agenda Section -->
                <section id="pastor-agenda" class="content-section">
                    <div class="section-header">
                        <h2>Agenda do Pastor</h2>
                        <button class="btn btn-primary" onclick="openAgendaModal()">
                            <i class="fas fa-plus"></i> Adicionar Compromisso
                        </button>
                    </div>
                    <div class="agenda-container">
                        <div class="calendar-view" id="pastorCalendar">
                            <h3>Calendário</h3>
                            <div class="calendar-placeholder">
                                <i class="fas fa-calendar-alt" style="font-size: 48px; color: #bdc3c7; margin-bottom: 10px;"></i>
                                <p>Visualização do calendário em desenvolvimento</p>
                            </div>
                        </div>
                        <div class="agenda-list" id="agendaList"></div>
                    </div>
                    <div class="table-container" style="margin-top: 20px;">
                        <table id="agendaTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Horário</th>
                                    <th>Título</th>
                                    <th>Descrição</th>
                                    <th>Local</th>
                                    <th>Prioridade</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Treasury Section -->
                <section id="treasury" class="content-section">
                    <div class="section-header">
                        <h2>Tesouraria</h2>
                        <div>
                            <button class="btn btn-success" onclick="openTransactionModal('income')">
                                <i class="fas fa-plus"></i> Receita
                            </button>
                            <button class="btn btn-danger" onclick="openTransactionModal('expense')">
                                <i class="fas fa-minus"></i> Despesa
                            </button>
                        </div>
                    </div>
                    <div class="treasury-summary">
                        <div class="summary-card income">
                            <h3>Receitas do Mês</h3>
                            <span id="monthlyIncome">R$ 0,00</span>
                        </div>
                        <div class="summary-card expense">
                            <h3>Despesas do Mês</h3>
                            <span id="monthlyExpense">R$ 0,00</span>
                        </div>
                        <div class="summary-card balance">
                            <h3>Saldo</h3>
                            <span id="currentBalance">R$ 0,00</span>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="transactionsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Descrição</th>
                                    <th>Tipo</th>
                                    <th>Categoria</th>
                                    <th>Valor</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Prayer Requests Section -->
                <section id="prayer-requests" class="content-section">
                    <div class="section-header">
                        <h2>Pedidos de Oração</h2>
                        <button class="btn btn-primary" onclick="openPrayerModal()">
                            <i class="fas fa-plus"></i> Adicionar Pedido
                        </button>
                    </div>
                    <div class="prayer-filters">
                        <button class="filter-btn active" data-filter="all">Todos</button>
                        <button class="filter-btn" data-filter="pending">Pendentes</button>
                        <button class="filter-btn" data-filter="answered">Respondidos</button>
                    </div>
                    <div class="prayer-requests-grid" id="prayerRequestsGrid"></div>
                </section>

                <!-- Baptisms Section -->
                <section id="baptisms" class="content-section">
                    <div class="section-header">
                        <h2>Batismos</h2>
                        <button class="btn btn-primary" onclick="openBaptismModal()">
                            <i class="fas fa-plus"></i> Agendar Batismo
                        </button>
                    </div>
                    <div class="baptism-stats">
                        <div class="stat-item">
                            <span class="number" id="totalBaptisms">0</span>
                            <span class="label">Total de Batismos</span>
                        </div>
                        <div class="stat-item">
                            <span class="number" id="thisYearBaptisms">0</span>
                            <span class="label">Este Ano</span>
                        </div>
                        <div class="stat-item">
                            <span class="number" id="pendingBaptisms">0</span>
                            <span class="label">Agendados</span>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="baptismsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Data do Batismo</th>
                                    <th>Pastor</th>
                                    <th>Local</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Donations Section -->
                <section id="donations" class="content-section">
                    <div class="section-header">
                        <h2>Doações</h2>
                        <button class="btn btn-primary" onclick="openDonationModal()">
                            <i class="fas fa-plus"></i> Registrar Doação
                        </button>
                    </div>
                    <div class="donations-summary">
                        <div class="donation-type">
                            <h3>Dízimos</h3>
                            <span id="tithesTotal">R$ 0,00</span>
                        </div>
                        <div class="donation-type">
                            <h3>Ofertas</h3>
                            <span id="offeringsTotal">R$ 0,00</span>
                        </div>
                        <div class="donation-type">
                            <h3>Doações Especiais</h3>
                            <span id="specialDonationsTotal">R$ 0,00</span>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="donationsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Doador</th>
                                    <th>Tipo</th>
                                    <th>Valor</th>
                                    <th>Método</th>
                                    <th>Observações</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <!-- Bible Section -->
                <section id="bible" class="content-section">
                    <div class="bible-container">
                        <!-- Bible Header -->
                        <div class="bible-header">
                            <div class="bible-header-content">
                                <i class="fas fa-book-bible"></i>
                                <div class="bible-header-text">
                                    <h2>Bíblia Sagrada</h2>
                                    <p>Almeida Revista e Atualizada</p>
                                </div>
                            </div>
                            <div class="bible-header-actions">
                                <button class="lang-btn active" data-lang="pt" onclick="switchBibleLanguage('pt')" title="Português">
                                    PT
                                </button>
                                <button class="lang-btn" data-lang="en" onclick="switchBibleLanguage('en')" title="English">
                                    EN
                                </button>
                            </div>
                        </div>

                        <!-- Bible Main Content -->
                        <div class="bible-main-content">
                            <!-- Left Panel: Books and Chapters -->
                            <div class="bible-left-panel">
                                <!-- Books List -->
                                <div class="bible-books-panel">
                                    <div class="bible-panel-tabs">
                                        <button class="testament-tab active" data-testament="old" onclick="switchTestament('old')">
                                            Antigo Testamento
                                        </button>
                                        <button class="testament-tab" data-testament="new" onclick="switchTestament('new')">
                                            Novo Testamento
                                        </button>
                                    </div>
                                    <div class="bible-books-list" id="bibleBooksList">
                                        <!-- Books will be loaded here -->
                                    </div>
                                </div>
                            </div>

                            <!-- Right Panel: Chapters Grid -->
                            <div class="bible-right-panel">
                                <div class="bible-chapters-panel">
                                    <div class="chapters-header">
                                        <i class="fas fa-list"></i>
                                        <h3>Capítulos</h3>
                                    </div>
                                    <div class="bible-chapters-grid" id="bibleChaptersGrid">
                                        <div class="chapters-placeholder">
                                            <i class="fas fa-book-open"></i>
                                            <p>Selecione um livro para ver os capítulos</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bible Reading Area -->
                        <div class="bible-reading-section" id="bibleReadingSection">
                            <div class="bible-reading-header">
                                <div class="reading-title">
                                    <h3 id="biblePassageTitle">Selecione um capítulo para ler</h3>
                                </div>
                                <div class="reading-actions">
                                    <button class="action-btn" onclick="decreaseFontSize()" title="Diminuir Fonte">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <button class="action-btn" onclick="increaseFontSize()" title="Aumentar Fonte">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="action-btn" onclick="toggleFavoritePassage()" title="Favoritar">
                                        <i class="far fa-heart"></i>
                                    </button>
                                    <button class="action-btn" onclick="shareBiblePassage()" title="Compartilhar">
                                        <i class="fas fa-share-alt"></i>
                                    </button>
                                    <button class="action-btn" onclick="printBiblePassage()" title="Imprimir">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="bible-verses-container" id="bibleVersesContainer">
                                <div class="bible-welcome">
                                    <i class="fas fa-book-open"></i>
                                    <h3>Bem-vindo à Bíblia Sagrada</h3>
                                    <p>Selecione um livro e capítulo para começar a leitura.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Branches Management Section -->
                <section id="branches-management" class="content-section">
                    <!-- Conteúdo será renderizado dinamicamente pelo branch-management.js -->
                </section>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Member Modal -->
    <div id="memberModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="memberModalTitle">Adicionar Membro</h3>
                <span class="close" onclick="closeMemberModal()">&times;</span>
            </div>
            <form id="memberForm">
                <input type="hidden" id="memberId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="memberName">Nome Completo</label>
                        <input type="text" id="memberName" required>
                    </div>
                    <div class="form-group">
                        <label for="memberEmail">Email</label>
                        <input type="email" id="memberEmail" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="memberPhone">Telefone</label>
                        <input type="tel" id="memberPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="memberBirthdate">Data de Nascimento</label>
                        <input type="date" id="memberBirthdate" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="memberAddress">Endereço</label>
                        <input type="text" id="memberAddress">
                    </div>
                    <div class="form-group">
                        <label for="memberCell">Célula</label>
                        <select id="memberCell">
                            <option value="">Selecione uma célula</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeMemberModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Ministry Modal -->
    <div id="ministryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="ministryModalTitle">Adicionar Ministério</h3>
                <span class="close" onclick="closeMinistryModal()">&times;</span>
            </div>
            <form id="ministryForm">
                <input type="hidden" id="ministryId">
                <div class="form-group">
                    <label for="ministryName">Nome do Ministério</label>
                    <input type="text" id="ministryName" required>
                </div>
                <div class="form-group">
                    <label for="ministryDescription">Descrição</label>
                    <textarea id="ministryDescription" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="ministryLeader">Líder</label>
                    <input type="text" id="ministryLeader" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeMinistryModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Leader Modal -->
    <div id="leaderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="leaderModalTitle">Adicionar Líder</h3>
                <span class="close" onclick="closeLeaderModal()">&times;</span>
            </div>
            <form id="leaderForm">
                <input type="hidden" id="leaderId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="leaderName">Nome</label>
                        <input type="text" id="leaderName" required>
                    </div>
                    <div class="form-group">
                        <label for="leaderPosition">Posição</label>
                        <input type="text" id="leaderPosition" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="leaderMinistry">Ministério</label>
                        <select id="leaderMinistry" required>
                            <option value="">Selecione um ministério</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="leaderPhone">Telefone</label>
                        <input type="tel" id="leaderPhone" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeLeaderModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Cell Modal -->
    <div id="cellModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="cellModalTitle">Adicionar Célula</h3>
                <span class="close" onclick="closeCellModal()">&times;</span>
            </div>
            <form id="cellForm">
                <input type="hidden" id="cellId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="cellName">Nome da Célula</label>
                        <input type="text" id="cellName" required>
                    </div>
                    <div class="form-group">
                        <label for="cellLeader">Líder</label>
                        <select id="cellLeader" required>
                            <option value="">Selecione um líder</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cellAddress">Endereço</label>
                    <input type="text" id="cellAddress" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="cellDayOfWeek">Dia da Semana</label>
                        <select id="cellDayOfWeek" required>
                            <option value="">Selecione o dia</option>
                            <option value="Segunda-feira">Segunda-feira</option>
                            <option value="Terça-feira">Terça-feira</option>
                            <option value="Quarta-feira">Quarta-feira</option>
                            <option value="Quinta-feira">Quinta-feira</option>
                            <option value="Sexta-feira">Sexta-feira</option>
                            <option value="Sábado">Sábado</option>
                            <option value="Domingo">Domingo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cellTime">Horário</label>
                        <input type="time" id="cellTime" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeCellModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Event Modal -->
    <div id="eventModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="eventModalTitle">Adicionar Evento</h3>
                <span class="close" onclick="closeEventModal()">&times;</span>
            </div>
            <form id="eventForm">
                <input type="hidden" id="eventId">
                <div class="form-group">
                    <label for="eventTitle">Título do Evento</label>
                    <input type="text" id="eventTitle" required>
                </div>
                <div class="form-group">
                    <label for="eventDescription">Descrição</label>
                    <textarea id="eventDescription" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventDate">Data</label>
                        <input type="date" id="eventDate" required>
                    </div>
                    <div class="form-group">
                        <label for="eventTime">Horário</label>
                        <input type="time" id="eventTime" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="eventLocation">Local</label>
                    <input type="text" id="eventLocation" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEventModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Prayer Request Modal -->
    <div id="prayerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="prayerModalTitle">Adicionar Pedido de Oração</h3>
                <span class="close" onclick="closePrayerModal()">&times;</span>
            </div>
            <form id="prayerForm">
                <input type="hidden" id="prayerId">
                <div class="form-group">
                    <label for="prayerRequester">Nome do Solicitante</label>
                    <input type="text" id="prayerRequester" required>
                </div>
                <div class="form-group">
                    <label for="prayerRequest">Pedido de Oração</label>
                    <textarea id="prayerRequest" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="prayerDate">Data</label>
                    <input type="date" id="prayerDate" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closePrayerModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Baptism Modal -->
    <div id="baptismModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="baptismModalTitle">Agendar Batismo</h3>
                <span class="close" onclick="closeBaptismModal()">&times;</span>
            </div>
            <form id="baptismForm">
                <input type="hidden" id="baptismId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="baptismName">Nome</label>
                        <input type="text" id="baptismName" required>
                    </div>
                    <div class="form-group">
                        <label for="baptismDate">Data do Batismo</label>
                        <input type="date" id="baptismDate" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="baptismPastor">Pastor</label>
                        <input type="text" id="baptismPastor" required>
                    </div>
                    <div class="form-group">
                        <label for="baptismLocation">Local</label>
                        <input type="text" id="baptismLocation" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeBaptismModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Donation Modal -->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="donationModalTitle">Registrar Doação</h3>
                <span class="close" onclick="closeDonationModal()">&times;</span>
            </div>
            <form id="donationForm">
                <input type="hidden" id="donationId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="donationDonor">Doador</label>
                        <input type="text" id="donationDonor" required>
                    </div>
                    <div class="form-group">
                        <label for="donationType">Tipo</label>
                        <select id="donationType" required>
                            <option value="">Selecione o tipo</option>
                            <option value="tithe">Dízimo</option>
                            <option value="offering">Oferta</option>
                            <option value="special">Especial</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="donationAmount">Valor</label>
                        <input type="number" id="donationAmount" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="donationMethod">Método</label>
                        <select id="donationMethod" required>
                            <option value="">Selecione o método</option>
                            <option value="Dinheiro">Dinheiro</option>
                            <option value="PIX">PIX</option>
                            <option value="Transferência">Transferência</option>
                            <option value="Cartão">Cartão</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="donationDate">Data</label>
                    <input type="date" id="donationDate" required>
                </div>
                <div class="form-group">
                    <label for="donationNotes">Observações</label>
                    <textarea id="donationNotes" rows="2"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeDonationModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Agenda Modal -->
    <div id="agendaModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="agendaModalTitle">Adicionar Compromisso</h3>
                <span class="close" onclick="closeAgendaModal()">&times;</span>
            </div>
            <form id="agendaForm">
                <input type="hidden" id="agendaId">
                <div class="form-group">
                    <label for="agendaTitle">Título</label>
                    <input type="text" id="agendaTitle" required>
                </div>
                <div class="form-group">
                    <label for="agendaDescription">Descrição</label>
                    <textarea id="agendaDescription" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="agendaDate">Data</label>
                        <input type="date" id="agendaDate" required>
                    </div>
                    <div class="form-group">
                        <label for="agendaTime">Horário</label>
                        <input type="time" id="agendaTime" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="agendaLocation">Local</label>
                    <input type="text" id="agendaLocation">
                </div>
                <div class="form-group">
                    <label for="agendaPriority">Prioridade</label>
                    <select id="agendaPriority" required>
                        <option value="">Selecione a prioridade</option>
                        <option value="low">Baixa</option>
                        <option value="medium">Média</option>
                        <option value="high">Alta</option>
                        <option value="urgent">Urgente</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeAgendaModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Transaction Modal -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="transactionModalTitle">Adicionar Transação</h3>
                <span class="close" onclick="closeTransactionModal()">&times;</span>
            </div>
            <form id="transactionForm">
                <input type="hidden" id="transactionId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="transactionType">Tipo</label>
                        <select id="transactionType" required>
                            <option value="">Selecione o tipo</option>
                            <option value="income">Receita</option>
                            <option value="expense">Despesa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transactionAmount">Valor</label>
                        <input type="number" id="transactionAmount" step="0.01" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="transactionDescription">Descrição</label>
                    <input type="text" id="transactionDescription" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="transactionCategory">Categoria</label>
                        <select id="transactionCategory" required>
                            <option value="">Selecione a categoria</option>
                            <!-- Income categories -->
                            <optgroup label="Receitas" id="incomeCategories" style="display: none;">
                                <option value="Doações">Doações</option>
                                <option value="Dízimos">Dízimos</option>
                                <option value="Ofertas">Ofertas</option>
                                <option value="Eventos">Eventos</option>
                                <option value="Outros">Outros</option>
                            </optgroup>
                            <!-- Expense categories -->
                            <optgroup label="Despesas" id="expenseCategories" style="display: none;">
                                <option value="Utilidades">Utilidades</option>
                                <option value="Manutenção">Manutenção</option>
                                <option value="Salários">Salários</option>
                                <option value="Material">Material</option>
                                <option value="Eventos">Eventos</option>
                                <option value="Outros">Outros</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transactionDate">Data</label>
                        <input type="date" id="transactionDate" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="transactionMethod">Método de Pagamento</label>
                    <select id="transactionMethod" required>
                        <option value="">Selecione o método</option>
                        <option value="Dinheiro">Dinheiro</option>
                        <option value="PIX">PIX</option>
                        <option value="Transferência">Transferência</option>
                        <option value="Cartão">Cartão</option>
                        <option value="Cheque">Cheque</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionNotes">Observações</label>
                    <textarea id="transactionNotes" rows="2"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeTransactionModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
